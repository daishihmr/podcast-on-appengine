<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="/js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="/js/common.js"></script>
<link rel="stylesheet" type="text/css" href="/css/global.css" />
<title>audio file</title>
<script type="text/javascript">
var receiveAudioFile = function(audio) {
	if (audio.url) {
		alert(audio.url);
	} else {
		alert($.serialize(audio));
	}
};

var receiveList = function(data) {
	var div = $("#list");
	div.html("");
	$.each(data, function(i, audio) {
		div.append($("<div>" + audio.url + "</div>"));
	});	
};

var deleteCallback = function(data) {
	alert("削除しました");
};

$(function() {
	
	$("form[name='listForm']").setAjaxSubmit("list", receiveList);
	$("form[name='createForm']").setAjaxSubmit("create", receiveAudioFile);
	$("form[name='updateForm']").setAjaxSubmit("update", receiveAudioFile);
	$("form[name='deleteForm']").setAjaxSubmit("delete", deleteCallback);
	
});
</script>
</head>
<body>

<hr />

get list.
<br />
<form name="listForm">
<div>
yyyymmddhhmmss
min:<input type="text" name="min" /><br />
max:<input type="text" name="max" /><br />
</div>
<div id="list"></div>
<input type="image" src="/images/button.png" title="send" />
</form>

<hr />

new file.
<form name="createForm">
<table>
	<tr>
		<td>URL</td>
		<td><input name="url" value="http://" /></td>
	</tr>
	<tr>
		<td>Total Play Time(hh:mm:ss)</td>
		<td><input name="duration" /></td>
	</tr>
	<tr>
		<td>File Size</td>
		<td><input name="length" />byte(s)</td>
	</tr>
	<tr>
		<td>MIME Type</td>
		<td><input name="type" value="audio/mpeg" /></td>
	</tr>
</table>
<input type="image" src="/images/button.png" title="send" />
</form>

<hr />

update file.
<form name="updateForm">
<table>
	<tr>
		<td>URL</td>
		<td><input name="url" value="http://" /></td>
	</tr>
	<tr>
		<td>Total Play Time(hh:mm:ss)</td>
		<td><input name="duration" /></td>
	</tr>
	<tr>
		<td>File Size</td>
		<td><input name="length" />byte(s)</td>
	</tr>
	<tr>
		<td>MIME Type</td>
		<td><input name="type" value="audio/mpeg" /></td>
	</tr>
</table>
<input type="image" src="/images/button.png" title="send" />
</form>

<hr />

delete file.
<form name="deleteForm">
<table>
	<tr>
		<td>URL</td>
		<td><input name="url" value="http://" /></td>
	</tr>
</table>
<input type="image" src="/images/button.png" title="send" />
</form>
</body>
</html>
