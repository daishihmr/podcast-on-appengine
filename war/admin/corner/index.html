<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>corner</title>
<script type="text/javascript" src="/js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="/js/common.js"></script>
<link rel="stylesheet" type="text/css" href="/css/global.css" />
<script type="text/javascript">

$(function() {

	$("#createButton").click(function() {
		post("create", "form", function(data) {
			alert(data.title + "のデータを作成しました。");
		});
	});

	$("#updateButton").click(function(){
		post("update", "form", function(data) {
			alert(data.title + "のデータを更新しました。");
		});
	});

	$("#searchButton").click(function() {
		post("read", "form", function(data) {
			corner(data);
			$("input[name='title']").val(data.title);
			$("textarea[name='description']").val(data.description);
		});
	});

	$("#deleteButton").click(function(){
		post("delete", "form", function() {
			alert("削除しました。");
		});
	});

	$("#listButton").click(function() {
		post("list", null, function(data) {
			var s = "";
			$.each(data, function(k, v) {
				s += v.title + "\n";
			});
			alert(s);
		});
	});
    
});

</script>
</head>
<body>

<form name="form">
<table>
	<tr>
		<td>title:</td>
		<td><input type="text" name="title" /></td>
	</tr>
	<tr>
		<td>description:</td>
		<td><textarea name="description" cols="40" rows="10"></textarea></td>
	</tr>
</table>
<table>
	<tr>
		<td><input id="createButton" type="button" value="create" /></td>
		<td><input id="updateButton" type="button" value="update" /></td>
		<td><input id="searchButton" type="button" value="search" /></td>
		<td><input id="deleteButton" type="button" value="delete" /></td>
		<td><input id="listButton" type="button" value="list" /></td>
	</tr>
</table>
</form>

</body>
</html>